(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47215db6"],{"0947":function(t,e,n){"use strict";n("2efd")},"2efd":function(t,e,n){},"8f70":function(t,e,n){"use strict";n("99af");var i=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.spinning,tip:"工作流加载中"}},[e("a-icon",{staticStyle:{"font-size":"18px",top:"39%"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"}),e("iframe",{ref:"iframe",style:"width: 100%;height:calc(99vh - 60px)",attrs:{src:"".concat("production"===t.mode?t.baseUrl:"","/lib/index.html?id=").concat(t.id,"&mode=").concat(t.mode,"&x1c2Hdd6=").concat(t.value),marginwidth:"0",frameborder:"no"}})],1)},a=[],o=n("53ca"),s={name:"WorkFlow",components:{},props:{value:{type:String,default:""}},data:function(){var t=this.$createElement;return{id:"",spinning:!0,mode:"production",baseUrl:"/snail-job",indicator:t("a-icon",{attrs:{type:"loading",spin:!0},style:"font-size: 18px"})}},mounted:function(){this.iframeLoad(),this.id=this.$route.query.id},created:function(){window.addEventListener("message",this.handleMessage,!1)},destroyed:function(){window.removeEventListener("message",this.handleMessage)},methods:{save:function(){window.removeEventListener("message",this.handleMessage),this.$message.info("工作流新增成功"),this.$router.push({path:"/job/workflow/list"})},cancel:function(){window.removeEventListener("message",this.handleMessage),this.$router.push({path:"/job/workflow/list"})},update:function(){this.$message.info("工作流修改成功"),this.$router.push({path:"/job/workflow/list"})},handleMessage:function(t){"object"===Object(o["a"])(t.data)&&("SV5ucvLBhvFkOftb"===t.data.code?this.save():"kb4DO9h6WIiqFhbp"===t.data.code?this.cancel():"8Rr3XPtVVAHfduQg"===t.data.code&&this.update())},iframeLoad:function(){var t=this,e=this.$refs.iframe;e.attachEvent?e.attachEvent("onload",(function(){t.spinning=!1})):e.onload=function(){t.spinning=!1}}}},r=s,c=(n("0947"),n("2877")),d=Object(c["a"])(r,i,a,!1,null,null,null);e["a"]=d.exports},af96:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("work-flow",{attrs:{value:"xkjIc2ZHZ0"}})},a=[],o=n("8f70"),s={name:"WorkFlowDetail",components:{WorkFlow:o["a"]}},r=s,c=n("2877"),d=Object(c["a"])(r,i,a,!1,null,null,null);e["default"]=d.exports}}]);