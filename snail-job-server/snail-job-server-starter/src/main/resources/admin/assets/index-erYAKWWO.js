import{d,cv as m,bs as w,ct as _,z as c,i as k,o as v,c as g,h,cy as y,cz as S,$}from"./index-KP_OAqI5.js";import{_ as x}from"./workflow.vue_vue_type_script_setup_true_lang-PmdqFWru.js";import"./Grid-D4q1Pq5a.js";import"./DescriptionsItem-Q6F3Fays.js";import"./index-C_NlF1cd.js";const U=d({name:"workflow_form_edit",__name:"index",setup(V){const a=m(),u=w(),n=_(),s=c(!1),r=String(u.query.id),o=c({}),l=async()=>{s.value=!0;const{data:t,error:e}=await y(r);e||(o.value=t),s.value=!1};k(()=>{a.clear(),a.setType(0),a.setId(r),l()});const i=async()=>{var e;const{error:t}=await S(o.value);t||((e=window.$message)==null||e.info($("common.updateSuccess")),n.push({path:"/workflow/task"}))},f=()=>{n.push("/workflow/task")};return(t,e)=>(v(),g(h(x),{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=p=>o.value=p),spinning:s.value,onSave:i,onCancel:f},null,8,["modelValue","spinning"]))}});export{U as default};
