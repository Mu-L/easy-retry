(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-748d9b9d"],{"12b3":function(e,t){var o={sceneStatus:{0:{name:"停用",color:"#9c1f1f"},1:{name:"启用",color:"#f5a22d"}},backOffLabels:{1:{name:"延迟等级",color:"#d06892"},2:{name:"固定时间",color:"#f5a22d"},3:{name:"CRON表达式",color:"#e1f52d"},4:{name:"随机等待",color:"#a127f3"}},triggerInterval:{1:{name:"CRON表达式",color:"#d06892"},2:{name:"固定时间",color:"#f5a22d"}},notifyScene:{1:{name:"重试数量超过阈值",color:"#d06892"},2:{name:"重试失败数量超过阈值",color:"#f5a22d"},3:{name:"客户端上报失败",color:"#e1f52d"},4:{name:"客户端组件异常",color:"#a127f3"}},routeKey:{4:{name:"轮询",color:"#8f68d2"},1:{name:"一致性Hash",color:"#d06892"},2:{name:"随机",color:"#f5a22d"},3:{name:"LRU",color:"#e1f52d"}},notifyType:{1:{name:"钉钉通知",color:"#64a6ea"},2:{name:"邮箱通知",color:"#1b7ee5"},4:{name:"飞书",color:"#087da1"}},notifyStatus:{0:{name:"停用",color:"#9c1f1f"},1:{name:"启用",color:"#f5a22d"}},idGenMode:{1:{name:"号段模式",color:"#1b7ee5"},2:{name:"雪花算法",color:"#087da1"}},groupStatus:{0:{name:"停用",color:"#9c1f1f"},1:{name:"启用",color:"#f5a22d"}},initScene:{0:{name:"否",color:"#9c1f1f"},1:{name:"是",color:"#f5a22d"}}};e.exports=o},7016:function(e,t,o){"use strict";o.r(t);o("b0c0"),o("b64b");var n=function(){var e=this,t=e._self._c;return t("div",[t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:48}},[[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"组名称"}},[t("a-select",{attrs:{placeholder:"请输入组名称"},model:{value:e.queryParam.groupName,callback:function(t){e.$set(e.queryParam,"groupName",t)},expression:"queryParam.groupName"}},e._l(e.groupNameList,(function(o){return t("a-select-option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1)],1)],t("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryChange()}}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],2)],1)],1),t("div",{staticClass:"table-operator"},[t("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleNew()}}},[e._v("新增")])],1),t("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.notifyColumns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection},scopedSlots:e._u([{key:"notifyType",fn:function(o){return t("span",{},[t("a-tag",{attrs:{color:e.notifyType[o].color}},[e._v(" "+e._s(e.notifyType[o].name)+" ")])],1)}},{key:"notifyScene",fn:function(o){return t("span",{},[t("a-tag",{attrs:{color:e.notifyScene[o].color}},[e._v(" "+e._s(e.notifyScene[o].name)+" ")])],1)}},{key:"notifyAttribute",fn:function(o,n){return t("span",{},[e._v(" "+e._s(e.parseJson(JSON.parse(o),n))+" ")])}},{key:"notifyThreshold",fn:function(o){return t("span",{},[e._v(" "+e._s(0===o?"无":o)+" ")])}},{key:"action",fn:function(o){return t("span",{},[[t("a",{on:{click:function(t){return e.handleEdit(o)}}},[e._v("编辑")])]],2)}}])})],1)],1)},a=[],r=o("0fea"),i=o("2af9"),c=o("12b3"),s={name:"NotifyList",components:{STable:i["j"]},data:function(){var e=this;return{notifyColumns:[{title:"通知类型",dataIndex:"notifyType",key:"notifyType",width:"10%",scopedSlots:{customRender:"notifyType"}},{title:"通知场景",dataIndex:"notifyScene",key:"notifyScene",width:"10%",scopedSlots:{customRender:"notifyScene"}},{title:"通知阈值",dataIndex:"notifyThreshold",key:"notifyThreshold",width:"10%",scopedSlots:{customRender:"notifyThreshold"}},{title:"配置属性",dataIndex:"notifyAttribute",key:"notifyAttribute",width:"30%",scopedSlots:{customRender:"notifyAttribute"}},{title:"描述",dataIndex:"description",key:"description",width:"20%",scopedSlots:{customRender:"description"}},{title:"操作",key:"action",fixed:"right",width:"180px",scopedSlots:{customRender:"action"}}],data:[],loading:!1,form:this.$form.createForm(this),advanced:!1,queryParam:{},loadData:function(t){return Object(r["n"])(Object.assign(t,e.queryParam)).then((function(e){return e}))},selectedRowKeys:[],selectedRows:[],options:{alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}},optionAlertShow:!1,memberLoading:!1,notifyScene:c.notifyScene,notifyType:c.notifyType,notifyStatus:c.notifyStatus,visible:!1,key:"",notifyTypeValue:"1",groupNameList:[]}},created:function(){var e=this;Object(r["j"])().then((function(t){e.groupNameList=t.data}));var t=this.$route.query.groupName;t&&this.getNotifyConfigList(t)},methods:{handleNew:function(){this.$router.push({path:"/retry/notify/config"})},handleEdit:function(e){this.$router.push({path:"/retry/notify/config",query:{id:e.id}})},parseJson:function(e,t){if(!e)return null;var o="用户名:"+e["user"]+";\r\n密码:"+e["pass"]+";\r\nSMTP地址:"+e["host"]+";\r\nSMTP端口:"+e["port"]+";\r\n发件人:"+e["from"]+";\r\n收件人:"+e["tos"]+";";return 1===t.notifyType?o=e["dingDingUrl"]:4===t.notifyType&&(o=e["larkUrl"]),o}}},l=s,f=o("2877"),d=Object(f["a"])(l,n,a,!1,null,"24951139",null);t["default"]=d.exports}}]);