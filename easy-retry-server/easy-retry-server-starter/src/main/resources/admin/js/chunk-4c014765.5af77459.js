(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c014765"],{"237d":function(t,o,e){"use strict";e.r(o);e("b0c0"),e("b64b");var n=function(){var t=this,o=t._self._c;return o("div",[o("a-card",{attrs:{bordered:!1}},[o("div",{staticClass:"table-page-search-wrapper"},[o("a-form",{attrs:{layout:"inline"}},[o("a-row",{attrs:{gutter:48}},[o("a-col",{attrs:{md:8,sm:24}},[o("a-form-item",{attrs:{label:"组名称"}},[o("a-select",{attrs:{placeholder:"请输入组名称"},on:{change:function(o){return t.handleChange(o)}},model:{value:t.queryParam.groupName,callback:function(o){t.$set(t.queryParam,"groupName",o)},expression:"queryParam.groupName"}},t._l(t.groupNameList,(function(e){return o("a-select-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)],1),o("a-col",{attrs:{md:8,sm:24}},[o("a-form-item",{attrs:{label:"任务名称"}},[o("a-select",{attrs:{"show-search":"",placeholder:"请输入任务名称","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null},on:{search:t.handleSearch},model:{value:t.queryParam.jobId,callback:function(o){t.$set(t.queryParam,"jobId",o)},expression:"queryParam.jobId"}},t._l(t.jobNameList,(function(e,n){return o("a-select-option",{key:n,attrs:{value:e.id}},[t._v(" "+t._s(e.jobName)+" ")])})),1)],1)],1),void 0,o("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[o("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[o("a-button",{attrs:{type:"primary"},on:{click:function(o){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),o("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return t.queryParam={}}}},[t._v("重置")]),o("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v(" "+t._s(t.advanced?"收起":"展开")+" "),o("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),o("div",{staticClass:"table-operator"},[o("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(o){return t.handleNew()}}},[t._v("新增")])],1),o("s-table",{ref:"table",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.notifyColumns,data:t.loadData,alert:t.options.alert,rowSelection:t.options.rowSelection},scopedSlots:t._u([{key:"notifyType",fn:function(e){return o("span",{},[o("a-tag",{attrs:{color:t.notifyTypeList[e].color}},[t._v(" "+t._s(t.notifyTypeList[e].name)+" ")])],1)}},{key:"notifyStatus",fn:function(e){return o("span",{},[o("a-tag",{attrs:{color:t.notifyStatusList[e].color}},[t._v(" "+t._s(t.notifyStatusList[e].name)+" ")])],1)}},{key:"notifyScene",fn:function(e){return o("span",{},[o("a-tag",{attrs:{color:t.notifySceneList[e].color}},[t._v(" "+t._s(t.notifySceneList[e].name)+" ")])],1)}},{key:"notifyAttribute",fn:function(e,n){return o("span",{},[t._v(" "+t._s(t.parseJson(JSON.parse(e),n))+" ")])}},{key:"notifyThreshold",fn:function(e){return o("span",{},[t._v(" "+t._s(0===e?"无":e)+" ")])}},{key:"action",fn:function(e){return o("span",{},[[o("a",{on:{click:function(o){return t.handleEdit(e)}}},[t._v("编辑")])]],2)}}])})],1)],1)},a=[],r=e("0fea"),i=e("2af9"),c=e("3b7a"),u=e("38b7"),s={name:"JobNotifyList",components:{STable:i["i"]},data:function(){var t=this;return{notifyColumns:[{title:"组名",dataIndex:"groupName",key:"groupName",width:"15%",scopedSlots:{customRender:"groupName"}},{title:"任务",dataIndex:"jobName",key:"jobName",width:"15%",scopedSlots:{customRender:"jobName"}},{title:"通知状态",dataIndex:"notifyStatus",width:"10%",scopedSlots:{customRender:"notifyStatus"}},{title:"通知类型",dataIndex:"notifyType",key:"notifyType",width:"10%",scopedSlots:{customRender:"notifyType"}},{title:"通知场景",dataIndex:"notifyScene",key:"notifyScene",width:"15%",scopedSlots:{customRender:"notifyScene"}},{title:"通知阈值",dataIndex:"notifyThreshold",key:"notifyThreshold",width:"10%",scopedSlots:{customRender:"notifyThreshold"}},{title:"描述",dataIndex:"description",key:"description",width:"15%",scopedSlots:{customRender:"description"}},{title:"操作",key:"action",fixed:"right",width:"180px",scopedSlots:{customRender:"action"}}],data:[],loading:!1,form:this.$form.createForm(this),advanced:!1,queryParam:{},loadData:function(o){return Object(c["k"])(Object.assign(o,t.queryParam)).then((function(t){return t}))},selectedRowKeys:[],selectedRows:[],options:{alert:{show:!0,clear:function(){t.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}},optionAlertShow:!1,memberLoading:!1,notifySceneList:u.notifyScene,notifyTypeList:u.notifyType,notifyStatusList:u.notifyStatus,visible:!1,key:"",notifyTypeValue:"1",groupNameList:[],jobNameList:[]}},created:function(){var t=this;Object(r["j"])().then((function(o){t.groupNameList=o.data}));var o=this.$route.query.jobId;Object(c["j"])({jobId:o}).then((function(e){t.jobNameList=e.data,o&&(t.queryParam["jobId"]=t.jobNameList[0].id,t.$refs.table.refresh(!0))}))},methods:{handleSearch:function(t){var o=this;Object(c["j"])({keywords:t}).then((function(t){o.jobNameList=t.data}))},handleChange:function(t){var o=this;Object(c["d"])({groupName:t}).then((function(t){o.jobNameList=t.data}))},toggleAdvanced:function(){this.advanced=!this.advanced},handleNew:function(){this.$router.push({path:"/job/notify/config"})},handleEdit:function(t){this.$router.push({path:"/job/notify/config",query:{id:t.id}})}}},l=s,d=e("2877"),f=Object(d["a"])(l,n,a,!1,null,"68ac322e",null);o["default"]=f.exports},"38b7":function(t,o){var e={jobStatusEnum:{0:{name:"关闭",color:"#9c1f1f"},1:{name:"开启",color:"#f5a22d"}},taskType:{1:{name:"集群模式",color:"#d06892"},2:{name:"广播模式",color:"#f5a22d"},3:{name:"分片模式",color:"#e1f52d"}},triggerType:{1:{name:"CRON表达式",color:"#d06892"},2:{name:"固定时间",color:"#f5a22d"},3:{name:"工作流",color:"#76f52d"}},blockStrategy:{1:{name:"丢弃策略",color:"#d06892"},2:{name:"覆盖",color:"#f5a22d"},3:{name:"并行",color:"#e1f52d"}},executorType:{1:{name:"Java",color:"#d06892"}},routeKey:{4:{name:"轮询",color:"#8f68d2"},1:{name:"一致性Hash",color:"#d06892"},2:{name:"随机",color:"#f5a22d"},3:{name:"LRU",color:"#e1f52d"}},taskBatchStatus:{1:{name:"待处理",color:"#64a6ea"},2:{name:"运行中",color:"#1b7ee5"},3:{name:"成功",color:"#087da1"},4:{name:"失败",color:"#f52d80"},5:{name:"停止",color:"#ac2df5"},6:{name:"取消",color:"#f5732d"}},operationReason:{0:{name:""},1:{name:"执行超时",color:"#64a6ea"},2:{name:"无客户端节点",color:"#1b7ee5"},3:{name:"任务已关闭",color:"#087da1"},4:{name:"任务丢弃",color:"#3a2f81"},5:{name:"任务被覆盖",color:"#c2238a"},6:{name:"无可执行任务项",color:"#23c28a"},7:{name:"任务执行期间发生非预期异常",color:"#bdc223"},8:{name:"手动停止",color:"#23c28a"}},taskStatus:{2:{name:"运行中",color:"#1b7ee5"},3:{name:"成功",color:"#087da1"},4:{name:"失败",color:"#f52d80"},5:{name:"停止",color:"#ac2df5"}},notifyScene:{1:{name:"任务执行失败",color:"#d06892"}},notifyType:{1:{name:"钉钉通知",color:"#64a6ea"},2:{name:"邮箱通知",color:"#1b7ee5"},3:{name:"企业微信",color:"#0082EF"},4:{name:"飞书",color:"#087da1"}},notifyStatus:{0:{name:"停用",color:"#9c1f1f"},1:{name:"启用",color:"#f5a22d"}},rateLimiterStatus:{0:{name:"未启用",color:"#9c1f1f"},1:{name:"启用",color:"#f5a22d"}},workflowStatus:{0:{name:"关闭",color:"#9c1f1f"},1:{name:"开启",color:"#f5a22d"}}};t.exports=e},"3b7a":function(t,o,e){"use strict";e.d(o,"z",(function(){return r})),e.d(o,"p",(function(){return i})),e.d(o,"s",(function(){return c})),e.d(o,"b",(function(){return u})),e.d(o,"w",(function(){return s})),e.d(o,"x",(function(){return l})),e.d(o,"y",(function(){return d})),e.d(o,"r",(function(){return f})),e.d(o,"o",(function(){return b})),e.d(o,"j",(function(){return m})),e.d(o,"q",(function(){return p})),e.d(o,"a",(function(){return h})),e.d(o,"v",(function(){return y})),e.d(o,"i",(function(){return j})),e.d(o,"l",(function(){return g})),e.d(o,"h",(function(){return w})),e.d(o,"g",(function(){return k})),e.d(o,"f",(function(){return v})),e.d(o,"d",(function(){return S})),e.d(o,"c",(function(){return L})),e.d(o,"m",(function(){return N})),e.d(o,"t",(function(){return O})),e.d(o,"k",(function(){return _})),e.d(o,"e",(function(){return J})),e.d(o,"n",(function(){return T})),e.d(o,"u",(function(){return P}));var n=e("b775"),a={jobPageList:"/job/page/list",jobList:"/job/list",jobDetail:"/job/",saveJob:"/job/",updateJob:"/job/",updateJobStatus:"/job/status",delJob:"/job/",timeByCron:"/job/cron",jobNameList:"/job/job-name/list",triggerJob:"/job/trigger/",jobBatchList:"/job/batch/list",jobBatchDetail:"/job/batch/",stop:"/job/batch/stop/",jobNotifyConfigPageList:"/job/notify/config/page/list",jobNotifyConfigDetail:"/job/notify/config/",saveJobNotify:"/job/notify/config/",updateJobNotify:"/job/notify/config/",jobTaskList:"/job/task/list",jobLogList:"/job/log/list",workflowListPage:"/workflow/page/list",saveWorkflow:"/workflow",updateWorkflow:"/workflow",workflowDetail:"/workflow",workflowBatchListPage:"/workflow/batch/page/list",workflowBatchDetail:"/workflow/batch/",updateStatus:"/workflow/update/status/",delWorkflow:"/workflow/",triggerWorkflow:"/workflow/trigger/",stopWorkflowBatch:"/workflow/batch/stop/",workflowNameList:"/workflow/workflow-name/list"};function r(t){return Object(n["b"])({url:a.workflowNameList,method:"get",params:t})}function i(t){return Object(n["b"])({url:a.stopWorkflowBatch+t,method:"post"})}function c(t){return Object(n["b"])({url:a.triggerWorkflow+t,method:"post"})}function u(t){return Object(n["b"])({url:a.delWorkflow+t,method:"delete"})}function s(t){return Object(n["b"])({url:a.updateStatus+t,method:"put"})}function l(t){return Object(n["b"])({url:a.workflowBatchListPage,method:"get",params:t})}function d(t){return Object(n["b"])({url:a.workflowListPage,method:"get",params:t})}function f(t){return Object(n["b"])({url:a.triggerJob+t,method:"post"})}function b(t){return Object(n["b"])({url:a.stop+t,method:"post"})}function m(t){return Object(n["b"])({url:a.jobNameList,method:"get",params:t})}function p(t){return Object(n["b"])({url:a.timeByCron,method:"get",params:t})}function h(t){return Object(n["b"])({url:a.delJob+t,method:"delete"})}function y(t){return Object(n["b"])({url:a.updateJobStatus,method:"put",data:t})}function j(t){return Object(n["b"])({url:a.jobLogList,method:"get",params:t})}function g(t){return Object(n["b"])({url:a.jobTaskList,method:"get",params:t})}function w(t){return Object(n["b"])({url:a.jobBatchList,method:"get",params:t})}function k(t){return Object(n["b"])({url:a.jobBatchDetail+t,method:"get"})}function v(t){return Object(n["b"])({url:a.jobPageList,method:"get",params:t})}function S(t){return Object(n["b"])({url:a.jobList,method:"get",params:t})}function L(t){return Object(n["b"])({url:a.jobDetail+t,method:"get"})}function N(t){return Object(n["b"])({url:a.saveJob,method:"post",data:t})}function O(t){return Object(n["b"])({url:a.updateJob,method:"put",data:t})}function _(t){return Object(n["b"])({url:a.jobNotifyConfigPageList,method:"get",params:t})}function J(t){return Object(n["b"])({url:a.jobNotifyConfigDetail+t,method:"get"})}function T(t){return Object(n["b"])({url:a.saveJobNotify,method:"post",data:t})}function P(t){return Object(n["b"])({url:a.updateJobNotify,method:"put",data:t})}}}]);